<section id="donorpin-create-popup">
  <div class="page-header">
    <h1>{{$ctrl.donorpin._id ? 'Edit Donorpin' : 'Create new donor pin'}}</h1>
  </div>
  <div class="col-md-12">
    <form id="donorpin-create-form" name="$ctrl.form.donorpinForm" class="form-horizontal"
          ng-submit="$ctrl.save($ctrl.form.donorpinForm.$valid, $ctrl.donorpin)"
          novalidate>
      <fieldset>
        <div class="form-group" show-errors>
          <label class="control-label" for="firstname">First Name</label>
          <input name="firstname" type="text" ng-model="$ctrl.donorpin.firstname" id="firstname" class="form-control"
                 placeholder="First Name" required>
          <div ng-messages="$ctrl.form.donorpinForm.firstname.$error" role="alert">
            <p class="help-block error-text" ng-message="required">First name is required</p>
          </div>
        </div>

        <div class="form-group" show-errors>
          <label class="control-label" for="lastname">Last Name</label>
          <input name="lastname" type="text" ng-model="$ctrl.donorpin.lastname" id="lastname" class="form-control"
                 placeholder="Last Name" required>
          <div ng-messages="$ctrl.form.donorpinForm.lastname.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Last name is required</p>
          </div>
        </div>

        <div class="form-group" show-errors>
          <label class="control-label" for="contactnumber">Contact Number</label>
          <input name="contactnumber" type="text" ng-model="$ctrl.donorpin.contactnumber" id="contactnumber"
                 class="form-control" placeholder="Contact Number"
                 ng-pattern="/^(((\+|00)([0-9]{2})){1}[ ]{0,1}[0-9]{3}[ ]{0,1}[0-9]{4}[ ]{0,1}[0-9]{3})$/" required>
          <div ng-messages="$ctrl.form.donorpinForm.contactnumber.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Contact number is required</p>
            <p class="help-block error-text" ng-message="pattern">Contact number format must match +xx xxx xxxx xxx or 00xx xxx xxxx xxx</p>
          </div>
        </div>

        <div class="form-group" show-errors>
          <label class="control-label" for="emailaddress">Email Address</label>
          <input name="emailaddress" type="email" ng-model="$ctrl.donorpin.emailaddress" id="emailaddress"
                 class="form-control" placeholder="Email Address" required>
          <div ng-messages="$ctrl.form.donorpinForm.emailaddress.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Email Address is required</p>
            <p class="help-block error-text" ng-message="email">Email address is invalid.</p>
          </div>
        </div>

        <div class="form-group" show-errors>
          <label class="control-label" for="bloodgroup">Blood Group</label>
          <select name="bloodgroup" class="form-control" id="bloodgroup"
                  ng-model="$ctrl.donorpin.bloodgroup" ng-pattern="/A|AB|B|0/" required>
            <option value="A" selected>A</option>
            <option value="B">B</option>
            <option value="AB">AB</option>
            <option value="0">0</option>
          </select>
          <div ng-messages="$ctrl.form.donorpinForm.bloodgroup.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Blood Group is required</p>
            <p class="help-block error-text" ng-message="pattern">The only valid blood groups are: A, B, AB, 0</p>
          </div>
        </div>
        <div class="form-group">
          <button type="submit" style="width: 100%" class="btn btn-default">{{$ctrl.donorpin._id ? 'Update' : 'Create'}}</button>
        </div>
        <div ng-show="$ctrl.error" class="text-danger">
          <strong ng-bind="$ctrl.error"></strong>
        </div>
      </fieldset>
    </form>
  </div>
</section>
